# LDmicro &rarr; Arduino

*Simple way how to run code from[LDmicro](http://www.cq.cx/ladder.pl)  
on the [Arduino](http://arduino.cc) board.*


## Basic steps:

1. Write your program in LDmicro.
2. Compile it as a ANSI C and save it as *ladder.cpp*.
3. Generate header file *ladder.h* with **ladder-gen.php**.
4. Create a sketch like this one and upload it to Arduino.

```cpp
#include "ladder.h"

void setup() {
    PlcSetup();
}

void loop() {
    PlcCycle();
    delay(10);
}
```

For complete example look at ldexample sketch.

## ladder-gen.php

Tool for generating *ladder.h* file. 

```
php ladder-gen.php [path-to-sketch-folder]
```

Sketch folder should contains:

-  *ladder.cpp* file (generated by LDmicro)
-  *pinmap.ini* maping var names to Arduino digital pin (optional)

If *pinmap.ini* missing, ladder-gen will use defualt maping. Name of variables 
is from *d0* to *d13* for digital pin 0 â€“ 13.
